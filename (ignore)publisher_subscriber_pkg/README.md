tutorial link: https://wiki.ros.org/ROS/Tutorials/WritingPublisherSubscriber%28c%2B%2B%29

and for msg and srv https://wiki.ros.org/ROS/Tutorials/CreatingMsgAndSrv